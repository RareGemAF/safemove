<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SafeMove Admin</title>
  <link rel="stylesheet" href="css/admin.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
  <!-- SIDEBAR -->
  <div class="sidebar">
    <h2>SafeMove</h2>
    <a href="#" id="navDashboard" class="active">
      <svg viewBox="0 0 24 24">
        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" />
      </svg>
      Dashboard
    </a>
    <a href="#" id="navIncidents">
      <svg viewBox="0 0 24 24">
        <path d="M12 2L2 7l10 5 10-5-10-5zm0 18l10-5V9l-10 5-10-5v6l10 5z" />
      </svg>
      Incidents
    </a>
    <a href="#" id="navUsers">
      <svg viewBox="0 0 24 24">
        <path d="M12 12c2.67 0 8 1.34 8 4v4H4v-4c0-2.66 5.33-4 8-4zM12 2a4 4 0 110 8 4 4 0 010-8z" />
      </svg>
      Users
    </a>
    <a href="#" id="navAnalytics">
      <svg viewBox="0 0 24 24">
        <path d="M3 17h2v-7H3v7zm4 0h2V3H7v14zm4 0h2v-4h-2v4zm4 0h2V9h-2v8zm4 0h2V5h-2v12z" />
      </svg>
      Analytics
    </a>
  </div>

  <!-- MAIN CONTENT -->
  <div id="adminApp">
    <div class="header">
      <div class="header-content">
        <div class="logo">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSymv6o8FDjl_790MeqY5wYa73doG63sfirvw&s"
            alt="Safe Move Logo" />
          <span>SafeMove Admin</span>
        </div>
        <button class="btn-logout" onclick="logout()">Logout</button>
      </div>
    </div>
    <div id="adminDashboard">
      <!-- === STAT CARDS === -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-info">
            <p>Active Rides</p>
            <p>127</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-info">
            <p>Total Users</p>
            <p>2,453</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-info">
            <p>Safety Alerts</p>
            <p style="color:#ef4444;">8</p>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-info">
            <p>Revenue Today</p>
            <p style="color:#10b981;">8.5M</p>
          </div>
        </div>
      </div>

      <!-- FORM + GRAPH SIDE BY SIDE -->
      <div class="dashboard-grid">
        <!-- ADD NEW DRIVER FORM -->
        <div class="card driver-form-card">
          <div class="card-header">Register New Driver</div>
          <form id="addDriverForm" class="driver-form">
            <div class="form-group">
              <label for="driverName">Full Name</label>
              <input type="text" id="driverName" name="driverName" required />
            </div>
            <div class="form-group">
              <label for="driverEmail">Email</label>
              <input type="email" id="driverEmail" name="driverEmail" required />
            </div>
            <div class="form-group">
              <label for="driverPhone">Phone Number</label>
              <input type="tel" id="driverPhone" name="driverPhone" required />
            </div>
            <div class="form-group">
              <label for="ninNumber">NIN Number</label>
              <input type="text" id="ninNumber" name="ninNumber" required />
            </div>
            <div class="form-group">
              <label for="driverID">National ID or Passport</label>
              <input type="file" id="driverID" name="driverID" accept="image/*" />
            </div>
            <button type="submit" class="btn btn-primary">Add Driver</button>
          </form>
        </div>

        <!-- PASSENGER USAGE GRAPH -->
        <div class="card driver-form-card">
          <div class="card-header">Passenger Usage Analytics</div>
          <div class="filter-container">
            <label>Filter by:</label>
            <select id="filterPeriod">
              <option value="day">Day</option>
              <option value="week">Week</option>
              <option value="month">Month</option>
            </select>
          </div>
          <canvas id="passengerChart" height="150"></canvas>
        </div>
      </div>

      <!-- REGISTERED DRIVERS TABLE -->
      <div class="card">
        <div class="card-header">Registered Drivers</div>
        <table class="driver-table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th>Phone</th>
              <th>NIN</th>
              <th>ID/Passport</th>
            </tr>
          </thead>
          <tbody id="driverTableBody">
            <tr>
              <td>florence Pretty</td>
              <td>flo@gmail.com</td>
              <td>+256700123456</td>
              <td>CF12345678UP</td>
              <td><a href="#">View</a></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>


  <!-- Incidents -->
  <div id="adminIncidents" class="hidden">
    <div class="card">
      <div class="card-header">Incident Reports</div>

      <!-- Filters -->
      <div class="filter-container">
        <label>Filter by Severity:</label>
        <select id="incidentFilter">
          <option value="all">All</option>
          <option value="high">High</option>
          <option value="medium">Medium</option>
          <option value="low">Low</option>
        </select>
      </div>

      <!-- Incidents Table -->
      <table class="incident-table" id="incidentTable">
        <thead>
          <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Description</th>
            <th>Location</th>
            <th>Delay (mins)</th>
            <th>Severity</th>
          </tr>
        </thead>
        <tbody>
          <tr data-severity="high">
            <td>2025-10-12</td>
            <td>Unsafe Driving</td>
            <td>Driver overspeeding on Entebbe Road</td>
            <td>Entebbe Road</td>
            <td>0</td>
            <td class="severity-high">HIGH</td>
          </tr>
          <tr data-severity="high">
            <td>2025-10-12</td>
            <td>Accident</td>
            <td>Minor collision at city center junction</td>
            <td>City Center</td>
            <td>15</td>
            <td class="severity-high">HIGH</td>
          </tr>
          <tr data-severity="medium">
            <td>2025-10-11</td>
            <td>Delay</td>
            <td>Traffic congestion causing late rides</td>
            <td>Kampala Main Rd</td>
            <td>30</td>
            <td class="severity-medium">MEDIUM</td>
          </tr>
          <tr data-severity="medium">
            <td>2025-10-11</td>
            <td>Complaint</td>
            <td>Passenger reported rude driver</td>
            <td>Ntinda</td>
            <td>0</td>
            <td class="severity-medium">MEDIUM</td>
          </tr>
          <tr data-severity="low">
            <td>2025-10-10</td>
            <td>Safe Ride</td>
            <td>Trip completed without incident</td>
            <td>Mukono</td>
            <td>0</td>
            <td class="severity-low">LOW</td>
          </tr>
          <tr data-severity="high">
            <td>2025-10-10</td>
            <td>Accident</td>
            <td>Vehicle skid due to rain, no injuries</td>
            <td>Jinja Road</td>
            <td>20</td>
            <td class="severity-high">HIGH</td>
          </tr>
          <tr data-severity="high">
            <td>2025-10-09</td>
            <td>Delay</td>
            <td>Engine issue caused ride cancellation</td>
            <td>Kireka</td>
            <td>45</td>
            <td class="severity-high">HIGH</td>
          </tr>
          <tr data-severity="medium">
            <td>2025-10-09</td>
            <td>Complaint</td>
            <td>Driver took wrong route, passenger upset</td>
            <td>Kololo</td>
            <td>0</td>
            <td class="severity-medium">MEDIUM</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Users -->
 <div id="adminUsers" class="hidden">
  <div class="user-table-container">
    <div class="user-table-card">
      <div class="card-header">User Management</div>

      <!-- Users Table -->
      <table class="user-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Florence</td>
            <td>flo@gmail.com</td>
            <td>Passenger</td>
            <td class="status-verified">âœ“ Verified</td>
          </tr>
          <tr>
            <td>Pretty</td>
            <td>pretty@gmail.com</td>
            <td>Passenger</td>
            <td class="status-pending">Pending</td>
          </tr>
          <!-- Add more users here -->
        </tbody>
      </table>
    </div>
  </div>
</div>

  <!-- Analytics -->
  <div id="adminAnalytics" class="hidden">
  <div class="analytics-container">
    <div class="card-header">Analytics & Reports</div>

    <!-- Filters for Revenue -->
    <div class="filter-container">
      <label for="revenuePeriod"> View:</label>
      <select id="revenuePeriod">
        <option value="day">Day</option>
        <option value="week" selected>Week</option>
        <option value="month">Month</option>
        <option value="year">Year</option>
      </select>
    </div>

    <!-- Charts Grid -->
    <div class="analytics-grid">
      

      <!-- Revenue Bar Chart -->
      <div class="chart-card">
        <div class="chart-header">Revenue Collected</div>
        <canvas id="revenueChart"></canvas>
      </div>

      <!-- Drivers Pie Chart -->
      <div class="chart-card">
        <div class="chart-header">Driver Status</div>
        <canvas id="driverChart"></canvas>
      </div>

      <!-- Rides per Hour Line Chart -->
      <div class="chart-card">
        <div class="chart-header">Rides per Hour</div>
        <canvas id="ridesChart"></canvas>
      </div>

      <!-- Passenger Feedback Doughnut Chart -->
      <div class="chart-card">
        <div class="chart-header">Passenger Feedback</div>
        <canvas id="feedbackChart"></canvas>
      </div>
    </div>
  </div>
</div>

  </div>
  </div>

  <script src="js/admin.js"></script>
</body>

</html>